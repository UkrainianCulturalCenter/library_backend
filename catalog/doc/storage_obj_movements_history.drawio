<mxfile host="drawio-plugin" modified="2024-02-21T12:27:41.736Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" etag="xnlbACkU5fi1DGyO94dU" version="20.5.3" type="embed"><diagram id="23iRSUPoRavnBvh4doch" name="Page-1"><mxGraphModel dx="1019" dy="715" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="Move" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="1"><mxGeometry x="70" y="50" width="570" height="182" as="geometry"/></mxCell><mxCell id="3" value="+ id: PK" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="2"><mxGeometry y="26" width="570" height="26" as="geometry"/></mxCell><mxCell id="4" value="+ book_id:FK(Book)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="2"><mxGeometry y="52" width="570" height="26" as="geometry"/></mxCell><mxCell id="5" value="+ to_user_id:FK(User)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="2"><mxGeometry y="78" width="570" height="26" as="geometry"/></mxCell><mxCell id="6" value="+ through_user_id: FK(user) CHECK in (SELECT user.id FROM user WHERE user.is_staff = True)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="2"><mxGeometry y="104" width="570" height="26" as="geometry"/></mxCell><mxCell id="7" value="+ datetime: datetime.now(tz=ZoneInfo(UTC))" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="2"><mxGeometry y="130" width="570" height="26" as="geometry"/></mxCell><mxCell id="21" value="+ note: str, null=True" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="2"><mxGeometry y="156" width="570" height="26" as="geometry"/></mxCell><mxCell id="8" value="Detailed description" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fontStyle=1;align=center;" vertex="1" parent="1"><mxGeometry x="40" y="330" width="905" height="280" as="geometry"/></mxCell><mxCell id="9" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="8"><mxGeometry y="30" width="905" height="40" as="geometry"/></mxCell><mxCell id="10" value="to_user_id" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" vertex="1" parent="9"><mxGeometry width="227" height="40" as="geometry"><mxRectangle width="227" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="11" value="through_user_id" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" vertex="1" parent="9"><mxGeometry x="227" width="226" height="40" as="geometry"><mxRectangle width="226" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="22" value="datetime" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" vertex="1" parent="9"><mxGeometry x="453" width="226" height="40" as="geometry"><mxRectangle width="226" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="24" value="note" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" vertex="1" parent="9"><mxGeometry x="679" width="226" height="40" as="geometry"><mxRectangle width="226" height="40" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="13" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="8"><mxGeometry y="70" width="905" height="210" as="geometry"/></mxCell><mxCell id="14" value="id користувача який отримує книгу.&lt;br&gt;На рівні застосунка (не БД!) забезпечити підтвердження отримувача (одноразовий пароль)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" vertex="1" parent="13"><mxGeometry width="227" height="210" as="geometry"><mxRectangle width="227" height="210" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="15" value="id оператора який проводить операцію&lt;br&gt;На рівні БД ця операція можлива лише для персоналу (is_staff == True), перевіряється по залогіненому користувачу, обовʼязкове підтвердження операції в повному обсязі перед внесенням в бд (типу модального вікна з описом операції і текстом - &quot;Петренко Наталія - ви підтверджуєте переміщення книги ХХХ з ААА до БББ?&quot;)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" vertex="1" parent="13"><mxGeometry x="227" width="226" height="210" as="geometry"><mxRectangle width="226" height="210" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="23" value="чай здійснення операції" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" vertex="1" parent="13"><mxGeometry x="453" width="226" height="210" as="geometry"><mxRectangle width="226" height="210" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="25" value="необовʼязкова примітка, може бути внесена оператором" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;" vertex="1" parent="13"><mxGeometry x="679" width="226" height="210" as="geometry"><mxRectangle width="226" height="210" as="alternateBounds"/></mxGeometry></mxCell><mxCell id="26" value="&lt;h1&gt;Опис загального розуміння&lt;/h1&gt;&lt;div&gt;Користувачі це і звичайні користувачі бібліотеки, і сама бібліотека або її відділення. Таким чином ми можемо забезпечити опис фактичного знаходження обʼєкта зберігання створюючи відповідного користувача.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;При внесенні книги до бібліотеки зʼявляється перший запис і тут (зрозуміло коли вона зʼявилась і на якому користувачі). Той хто приймає книгу підтверджує прийом - отримує одноразовий пароль для здійснення операції, це контролюється на рівні застосунку.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Обовʼязково передбачити можливість групової операції - коли переміщення на одного користувача декількох обʼєктів зберігання забезпечується отриманням одного одноразового паролю.&amp;nbsp;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1"><mxGeometry x="59" y="660" width="721" height="250" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>